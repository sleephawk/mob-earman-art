import{b as M,R as x,h as A,i as S,r as i,j as e}from"./drei-DW943ge8.js";import{a2 as q,a3 as L}from"./three-BmhsQbYb.js";import{M as O,C as _}from"./index-DF4El8nE.js";function N(P){const f=M("assets/glb/MobV5.3-transformed.glb"),{scene:u,animations:k}=f,g=x.useRef(null),B=x.useMemo(()=>q.clone(u),[u]),{nodes:o,materials:t}=A(B),{actions:m,mixer:p}=S(k,g),a=i.useContext(O),{clip:b,setClip:j}=i.useContext(_),r=(n,l,c)=>{switch(a){case"paint":return n;case"paper":return l;case"primary":return c;default:return n}};i.useEffect(()=>{console.dir(Object.entries(m));const n=Object.entries(m),l=()=>{n.forEach(s=>{s[0].includes("idle")&&s[1]?.reset().play()})},c=()=>{j("idle"),l()};return l(),b==="checkout"&&(n.forEach(s=>{s[1]&&s[1].stop(),s[0].includes("checkout")&&s[1]?.reset().setLoop(L,1).play()}),p.addEventListener("finished",c)),()=>{Object.values(m).forEach(s=>s?.stop()),p.removeEventListener("finished",c)}},[m,b,p,j]);const C=i.useMemo(()=>r(t["Big Block"],t.bigBlockPaper,t.bigBlockPrimary),[a]),y=i.useMemo(()=>r(t.eyePaint,t.eyePaper,t.eyePaint),[a]),E=i.useMemo(()=>r(t.gem,t.gemPaper,t.gemPrimary),[a]),w=i.useMemo(()=>r(t.handPaint,t.handPaper,t.handPrimary),[a]),d=i.useMemo(()=>r(t.lilBomb,t.lilBombPaper,t.lilBombPrimary),[a]),h=i.useMemo(()=>r(t.smallPaw,t.smallPawPaper,t.smallPawPrimary),[a]),v=i.useMemo(()=>r(t.bigSqPawPaint,t.bigSqPawPaper,t.bigSqPawPrimary),[a]);return e.jsx("group",{ref:g,...P,dispose:null,children:e.jsxs("group",{name:"mob",children:[e.jsxs("group",{name:"hand",position:[.197,.02,-.297],rotation:[2.02,-1.399,.928],scale:.029,children:[e.jsx("primitive",{object:o.Bone}),e.jsx("primitive",{object:o.Bone002}),e.jsx("primitive",{object:o.Bone005}),e.jsx("primitive",{object:o.Bone008})]}),e.jsxs("group",{name:"GIANTPAWEMPTY",position:[-.355,.031,-.084],rotation:[1.204,-.913,1.614],scale:.042,children:[e.jsx("mesh",{name:"lilbomb2",geometry:o.lilbomb2.geometry,material:d,position:[-3.612,-9.549,-15.996],rotation:[.347,-.403,2.342],scale:1.135}),e.jsx("mesh",{name:"lilbigbomb",geometry:o.lilbigbomb.geometry,material:d,position:[.998,-13.957,-9.472],rotation:[2.19,-.176,-1.579],scale:2.503})]}),e.jsx("group",{name:"Armature001",position:[.001,-.001,-.403],scale:.266,children:e.jsx("group",{name:"Bone_1",children:e.jsx("mesh",{name:"EYE",geometry:o.EYE.geometry,material:y,rotation:[1.505,-.067,-3.129],scale:.172})})}),e.jsx("group",{name:"Armature002",position:[-.119,-.073,-.227],rotation:[0,.591,0],scale:.17,children:e.jsx("group",{name:"Bone_2",children:e.jsx("mesh",{name:"smallEye",geometry:o.smallEye.geometry,material:y,rotation:[-.071,-.641,-1.433],scale:.195})})}),e.jsxs("group",{name:"Armature",position:[-.225,-.235,-.052],rotation:[1.198,-.347,.094],scale:.167,children:[e.jsx("primitive",{object:o.Bone_3}),e.jsx("primitive",{object:o.Bone005_1}),e.jsx("primitive",{object:o.Bone006_1})]}),e.jsx("group",{name:"Armature003",position:[-.405,.125,-.078],rotation:[-.95,-.926,.832],scale:-.075,children:e.jsx("primitive",{object:o.Bone_4})}),e.jsx("group",{name:"Empty001",position:[.001,.025,-.403]}),e.jsx("mesh",{name:"bigBlock",geometry:o.bigBlock.geometry,material:C,position:[.007,.392,-1.121],rotation:[2.062,-.978,-1.734],scale:.175,children:e.jsx("group",{name:"Empty",position:[-1.596,-.696,-2.812],rotation:[2.618,-.978,2.409],scale:.62,children:e.jsx("mesh",{name:"Cube009",geometry:o.Cube009.geometry,material:t.bl,position:[-.155,.013,.088],rotation:[-.644,-.161,-1.7],scale:.137})})}),e.jsx("mesh",{name:"HALO",geometry:o.HALO.geometry,material:t.EMISSION,position:[.008,.033,-.615],rotation:[-3.046,-1.465,1.546],scale:.167}),e.jsx("mesh",{name:"Mountain2",geometry:o.Mountain2.geometry,material:t.bl,position:[.097,-.245,-.632],rotation:[2.753,1.074,2.197],scale:[.904,.277,.318]}),e.jsx("mesh",{name:"Cube002",geometry:o.Cube002.geometry,material:E,position:[-.251,.023,-.078],rotation:[-.069,.628,-.082]}),e.jsx("skinnedMesh",{name:"Cube019",geometry:o.Cube019.geometry,material:w,skeleton:o.Cube019.skeleton,position:[.197,.02,-.297],rotation:[2.02,-1.399,.928],scale:.029}),e.jsx("skinnedMesh",{name:"bigSqPaw",geometry:o.bigSqPaw.geometry,material:v,skeleton:o.bigSqPaw.skeleton,position:[-.225,-.235,-.052],rotation:[1.198,-.347,.094],scale:.167}),e.jsx("skinnedMesh",{name:"Cube001",geometry:o.Cube001.geometry,material:h,skeleton:o.Cube001.skeleton,position:[-.405,.125,-.078],rotation:[2.192,.926,-.832],scale:[-.075,.075,.075]}),e.jsx("skinnedMesh",{name:"Cube008",geometry:o.Cube008.geometry,material:h,skeleton:o.Cube008.skeleton,position:[-.405,.125,-.078],rotation:[2.192,.926,-.832],scale:[-.075,.075,.075]})]})})}M.preload("/assets/glb/MobV5.3-transformed.glb");export{N as default};
